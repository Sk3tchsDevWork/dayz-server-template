<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apocalypse Survivors - Premium DayZ Experience</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;500;600;700;800&display=swap');
        
        /* Protected CSS - Unauthorized copying prohibited */
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:'Exo 2',sans-serif;background:linear-gradient(135deg,#0a0a0a 0%,#1a0f00 50%,#2d1b00 100%);color:#e8e8e8;overflow-x:hidden}

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(15px);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid #ff6b35;
            box-shadow: 0 2px 25px rgba(255, 107, 53, 0.3);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 2.2rem;
            font-weight: 900;
            color: #ff6b35;
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.8);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo::before {
            content: '🧟';
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-links a {
            color: #e8e8e8;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-links a:hover {
            color: #ff6b35;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.8);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #ff6b35, #e55a2b);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(10, 10, 10, 0.6), rgba(26, 15, 0, 0.7)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><rect fill="%23000" width="1200" height="800"/><g fill="%23331100"><rect x="0" y="600" width="1200" height="200"/></g><g fill="%23ff6b35" opacity="0.1"><circle cx="200" cy="150" r="3"/><circle cx="400" cy="200" r="2"/><circle cx="600" cy="100" r="4"/><circle cx="800" cy="180" r="2"/><circle cx="1000" cy="120" r="3"/></g><g fill="%23333"><rect x="100" y="500" width="80" height="100"/><rect x="300" y="450" width="60" height="150"/><rect x="500" y="480" width="90" height="120"/><rect x="700" y="420" width="70" height="180"/><rect x="900" y="460" width="85" height="140"/></g></svg>');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 70% 30%, rgba(255, 107, 53, 0.15) 0%, transparent 50%);
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-content h1 {
            font-family: 'Orbitron', monospace;
            font-size: 5rem;
            font-weight: 900;
            margin-bottom: 1.5rem;
            color: #ff6b35;
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.8);
            animation: neonGlow 4s ease-in-out infinite alternate;
        }

        @keyframes neonGlow {
            from { 
                text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.9), 0 0 40px rgba(255, 107, 53, 0.5);
                filter: brightness(1);
            }
            to { 
                text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.9), 0 0 60px rgba(255, 107, 53, 0.8);
                filter: brightness(1.3);
            }
        }

        .hero-content p {
            font-size: 1.5rem;
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 400;
            line-height: 1.7;
            color: #b8b8b8;
        }

        .cta-button {
            background: linear-gradient(45deg, #ff6b35, #e55a2b);
            color: white;
            padding: 20px 50px;
            border: none;
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Exo 2', sans-serif;
        }

        .cta-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 35px rgba(255, 107, 53, 0.6);
            background: linear-gradient(45deg, #e55a2b, #ff6b35);
        }

        /* Server Status */
        .server-status {
            background: rgba(10, 10, 10, 0.9);
            padding: 6rem 0;
            margin-top: -120px;
            position: relative;
            z-index: 10;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .status-card {
            background: linear-gradient(135deg, #1a0f00, #2d1b00);
            border: 2px solid #4a2a00;
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .status-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .status-card:hover::before {
            left: 100%;
        }

        .status-card:hover {
            transform: translateY(-10px);
            border-color: #ff6b35;
            box-shadow: 0 20px 50px rgba(255, 107, 53, 0.3);
        }

        .server-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            color: #ff6b35;
            margin-bottom: 2rem;
            font-weight: 700;
        }

        .server-info {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            font-weight: 500;
        }

        .status-online {
            color: #28a745;
            font-weight: 700;
            text-shadow: 0 0 8px rgba(40, 167, 69, 0.6);
        }

        .status-offline {
            color: #dc3545;
            font-weight: 700;
            text-shadow: 0 0 8px rgba(220, 53, 69, 0.6);
        }

        /* Features Section */
        .features {
            padding: 8rem 0;
            background: linear-gradient(135deg, #2d1b00, #1a0f00);
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 4rem;
            text-align: center;
            margin-bottom: 5rem;
            color: #ff6b35;
            text-shadow: 0 0 25px rgba(255, 107, 53, 0.6);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 4rem;
        }

        .feature-card {
            background: rgba(10, 10, 10, 0.8);
            border: 2px solid #4a2a00;
            border-radius: 18px;
            padding: 3.5rem;
            text-align: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .feature-card:hover::before {
            left: 100%;
        }

        .feature-card:hover {
            transform: translateY(-15px);
            border-color: #ff6b35;
            box-shadow: 0 25px 60px rgba(255, 107, 53, 0.3);
        }

        .feature-icon {
            font-size: 4rem;
            margin-bottom: 2.5rem;
            display: block;
            filter: drop-shadow(0 0 15px rgba(255, 107, 53, 0.6));
        }

        .feature-card h3 {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: #ff6b35;
            font-weight: 700;
        }

        .feature-card p {
            font-size: 1.2rem;
            line-height: 1.8;
            font-weight: 400;
            color: #b8b8b8;
        }

        /* Support Section - Gallery Style */
        .support {
            padding: 8rem 0;
            background: linear-gradient(135deg, #2d1b00, #1a0f00);
        }

        /* Gallery Filters */
        .gallery-filters {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(10, 10, 10, 0.8);
            border: 2px solid #4a2a00;
            color: #e8e8e8;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Exo 2', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-btn:hover, .filter-btn.active {
            background: linear-gradient(45deg, #ff6b35, #e55a2b);
            border-color: #ff6b35;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
        }

        /* Gallery Grid */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2.5rem;
            margin-bottom: 6rem;
        }

        .gallery-item {
            background: rgba(10, 10, 10, 0.9);
            border: 2px solid #4a2a00;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: translateY(-8px);
            border-color: #ff6b35;
            box-shadow: 0 15px 40px rgba(255, 107, 53, 0.3);
        }

        .gallery-item-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #4a2a00, #1a0f00);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
            overflow: hidden;
        }

        .gallery-item-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .gallery-item:hover .gallery-item-image::before {
            left: 100%;
        }

        .gallery-item-content {
            padding: 2rem;
        }

        .gallery-item-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.4rem;
            color: #ff6b35;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .gallery-item-description {
            color: #b8b8b8;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .gallery-item-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .gallery-price {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            color: #ff6b35;
            font-weight: 700;
        }

        .gallery-category {
            background: rgba(255, 107, 53, 0.2);
            color: #ff6b35;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .gallery-item-button {
            width: 100%;
            background: linear-gradient(45deg, #ff6b35, #e55a2b);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Exo 2', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .gallery-item-button:hover {
            background: linear-gradient(45deg, #e55a2b, #ff6b35);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
        }

        /* Support Tiers Section */
        .support-tiers-section {
            margin-top: 6rem;
            padding-top: 4rem;
            border-top: 2px solid #2a2a4e;
        }

        .tier-section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: #ff6b35;
            text-shadow: 0 0 20px rgba(255, 107, 53, 0.6);
        }

        .support-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .support-card {
            background: rgba(10, 10, 10, 0.9);
            border: 2px solid #4a2a00;
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .support-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .support-card:hover::before {
            left: 100%;
        }

        .support-card:hover {
            transform: translateY(-10px);
            border-color: #ff6b35;
            box-shadow: 0 20px 50px rgba(255, 107, 53, 0.3);
        }

        .support-card h3 {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            color: #ff6b35;
            margin-bottom: 2rem;
            font-weight: 700;
        }

        .support-price {
            font-size: 3rem;
            color: #ff6b35;
            font-weight: 900;
            margin-bottom: 2rem;
            font-family: 'Orbitron', monospace;
        }

        .support-features {
            list-style: none;
            padding: 0;
            margin-bottom: 3rem;
        }

        .support-features li {
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 107, 53, 0.3);
            color: #e8e8e8;
            font-size: 1.1rem;
            position: relative;
            padding-left: 2.5rem;
        }

        .support-features li:last-child {
            border-bottom: none;
        }

        .support-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #ff6b35;
            font-weight: bold;
            font-size: 1.3rem;
        }

        /* Gallery Item Filtering */
        .gallery-item.hidden {
            display: none;
        }

        /* Rules Section */
        .rules {
            padding: 8rem 0;
            background: linear-gradient(135deg, #2d1b00, #1a0f00);
        }

        .rules-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 4rem;
            margin-top: 4rem;
        }

        .rules-category {
            background: rgba(10, 10, 10, 0.9);
            border: 2px solid #4a2a00;
            border-radius: 18px;
            padding: 3.5rem;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .rules-category::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .rules-category:hover::before {
            left: 100%;
        }

        .rules-category:hover {
            transform: translateY(-10px);
            border-color: #dc3545;
            box-shadow: 0 25px 60px rgba(220, 53, 69, 0.3);
        }

        .rules-category h3 {
            font-family: 'Orbitron', monospace;
            font-size: 2.2rem;
            color: #dc3545;
            margin-bottom: 2.5rem;
            display: flex;
            align-items: center;
            gap: 1.2rem;
            font-weight: 700;
        }

        .rules-category .rule-icon {
            font-size: 3rem;
            filter: drop-shadow(0 0 12px rgba(220, 53, 69, 0.6));
        }

        .rules-list {
            list-style: none;
            padding: 0;
        }

        .rules-list li {
            padding: 1.2rem 0;
            border-bottom: 1px solid rgba(220, 53, 69, 0.3);
            color: #e8e8e8;
            line-height: 1.8;
            position: relative;
            padding-left: 3rem;
            font-size: 1.2rem;
            font-weight: 400;
        }

        .rules-list li:last-child {
            border-bottom: none;
        }

        .rules-list li::before {
            content: '⚠️';
            position: absolute;
            left: 0;
            top: 1.2rem;
            font-size: 1.4rem;
        }

        .rules-list li.positive::before {
            content: '✅';
        }

        .rules-list li.negative::before {
            content: '❌';
        }

        .punishment-info {
            background: rgba(220, 53, 69, 0.15);
            border: 1px solid rgba(220, 53, 69, 0.4);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2.5rem;
            color: #dc3545;
            font-weight: 500;
            font-size: 1.1rem;
        }

        .punishment-info strong {
            color: #ff6b7a;
            font-weight: 700;
        }

        /* Admin Panel */
        .admin-panel {
            background: rgba(10, 10, 10, 0.95);
            padding: 6rem 0;
            display: none;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-form {
            max-width: 800px;
            margin: 0 auto;
            background: linear-gradient(135deg, #1a0f00, #2d1b00);
            padding: 4rem;
            border-radius: 18px;
            border: 2px solid #4a2a00;
        }

        .form-group {
            margin-bottom: 2.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 1rem;
            color: #dc3545;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 18px;
            background: #0a0a0a;
            border: 2px solid #4a2a00;
            border-radius: 10px;
            color: #e8e8e8;
            font-size: 1.1rem;
            font-family: 'Exo 2', sans-serif;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #dc3545;
            box-shadow: 0 0 20px rgba(220, 53, 69, 0.3);
        }

        /* Footer */
        footer {
            background: #0a0a0a;
            padding: 5rem 0;
            text-align: center;
            border-top: 3px solid #dc3545;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .footer-section h3 {
            color: #dc3545;
            margin-bottom: 2rem;
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .footer-section a {
            color: #e8e8e8;
            text-decoration: none;
            display: block;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .footer-section a:hover {
            color: #dc3545;
            text-shadow: 0 0 8px rgba(220, 53, 69, 0.6);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero-content h1 {
                font-size: 3.5rem;
            }
            
            .section-title {
                font-size: 3rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .rules-container {
                grid-template-columns: 1fr;
            }

            .status-grid {
                grid-template-columns: 1fr;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
            }

            .gallery-filters {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid #2a2a4e;
            border-radius: 50%;
            border-top-color: #dc3545;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* DayZ-specific styling */
        .dayz-accent {
            color: #dc3545;
            font-weight: 700;
        }

        .server-info-box {
            background: linear-gradient(45deg, rgba(220, 53, 69, 0.1), rgba(176, 42, 55, 0.1));
            border: 2px solid rgba(220, 53, 69, 0.4);
            border-radius: 15px;
            padding: 2rem;
            margin: 2.5rem 0;
            text-align: center;
        }

        .server-info-box h4 {
            color: #dc3545;
            font-family: 'Orbitron', monospace;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .connect-info {
            background: rgba(220, 53, 69, 0.15);
            border: 2px solid rgba(220, 53, 69, 0.4);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            color: #dc3545;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo" id="serverLogo">APOCALYPSE SURVIVORS</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#servers">Servers</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#support">Support</a></li>
                <li><a href="#rules">Rules</a></li>
                <li><a href="#admin" onclick="toggleAdmin()">Admin</a></li>
                <li><a href="#" onclick="showAuthStatus()" id="authStatus">🔐 Login</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero" id="home">
            <div class="hero-content">
                <h1 id="heroTitle">APOCALYPSE SURVIVORS</h1>
                <p id="heroDescription">Survive the ultimate DayZ experience with custom loot, vehicles, and intense PvP action. Join our hardcore survival community where every decision matters.</p>
                <a href="#servers" class="cta-button">JOIN THE FIGHT</a>
            </div>
        </section>

        <section class="server-status" id="servers">
            <div class="container">
                <h2 class="section-title">Server Status</h2>
                <div class="server-info-box">
                    <h4>🧟 Connect to Apocalypse Survivors</h4>
                    <div class="connect-info">
                        Server IP: <strong>apocalypse.survivors.com:2302</strong>
                    </div>
                    <p>Server restarts every <span class="dayz-accent">6 hours</span> for optimal performance</p>
                </div>
                <div class="status-grid" id="serverGrid">
                    <!-- Servers will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <section class="features" id="features">
            <div class="container">
                <h2 class="section-title">Server Features</h2>
                <div class="features-grid" id="featuresGrid">
                    <!-- Features will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <section class="support" id="support">
            <div class="container">
                <h2 class="section-title">Support Our Server</h2>
                <p style="text-align: center; font-size: 1.4rem; color: #b8b8b8; margin-bottom: 4rem; font-weight: 400;">
                    Help keep our DayZ server running and get exclusive perks in return
                </p>
                
                <!-- Gallery Filter Tabs -->
                <div class="gallery-filters">
                    <button class="filter-btn active" onclick="filterGallery('all')">All Items</button>
                    <button class="filter-btn" onclick="filterGallery('weapons')">Weapons</button>
                    <button class="filter-btn" onclick="filterGallery('gear')">Gear & Equipment</button>
                    <button class="filter-btn" onclick="filterGallery('vehicles')">Vehicles</button>
                    <button class="filter-btn" onclick="filterGallery('perks')">Server Perks</button>
                </div>

                <!-- Gallery Grid -->
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery items will be populated by JavaScript -->
                </div>

                <!-- Support Tiers -->
                <div class="support-tiers-section">
                    <h3 class="tier-section-title">Monthly Support Tiers</h3>
                    <div class="support-grid" id="supportGrid">
                        <!-- Support tiers will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <section class="rules" id="rules">
            <div class="container">
                <h2 class="section-title">Server Rules</h2>
                <p style="text-align: center; font-size: 1.4rem; color: #b8b8b8; margin-bottom: 4rem; font-weight: 400;">
                    Follow these rules to ensure fair play and maintain server quality
                </p>
                <div class="rules-container" id="rulesContainer">
                    <!-- Rules will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <section class="admin-panel" id="adminPanel">
            <div class="container">
                <h2 class="section-title">Admin Control Panel</h2>
                <div class="admin-form">
                    <div class="form-group">
                        <label for="adminPassword">Admin Password:</label>
                        <input type="password" id="adminPassword" placeholder="Enter admin password">
                    </div>
                    <button class="cta-button" onclick="authenticateAdmin()">Access Panel</button>
                    
                    <div id="adminControls" style="display: none; margin-top: 4rem;">
                        <div class="form-group">
                            <label for="serverNameInput">Server Name:</label>
                            <input type="text" id="serverNameInput" placeholder="Enter server name">
                        </div>
                        <div class="form-group">
                            <label for="serverIPInput">Server IP:</label>
                            <input type="text" id="serverIPInput" placeholder="Enter server IP">
                        </div>
                        <div class="form-group">
                            <label for="maxPlayersInput">Max Players:</label>
                            <input type="number" id="maxPlayersInput" placeholder="Enter max players">
                        </div>
                        <div class="form-group">
                            <label for="serverStatusInput">Status:</label>
                            <select id="serverStatusInput">
                                <option value="online">Online</option>
                                <option value="offline">Offline</option>
                            </select>
                        </div>
                        <button class="cta-button" onclick="addServer()">Add Server</button>
                        <button class="cta-button" onclick="updateTheme()" style="margin-left: 1.5rem;">Update Theme</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <a href="#home">Home</a>
                    <a href="#servers">Servers</a>
                    <a href="#features">Features</a>
                    <a href="#support">Support</a>
                    <a href="#rules">Rules</a>
                </div>
                <div class="footer-section">
                    <h3>Community</h3>
                    <a href="#" onclick="openDiscord()">Discord Server</a>
                    <a href="#" onclick="openSteam()">Steam Group</a>
                    <a href="#" onclick="openForums()">Community Forums</a>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <a href="#" onclick="showDemo('Contact')">Contact Admin</a>
                    <a href="#rules">Server Rules</a>
                    <a href="#support">Donate</a>
                </div>
            </div>
            <p>&copy; 2024 Apocalypse Survivors DayZ. Survive together or die alone.</p>
        </div>
    </footer>

    <script>
        // Code obfuscated for protection - unauthorized copying prohibited
        const _0x9c4f=['DECIMATION.GG','DECIMATION.GG','Survive\x20the\x20ultimate\x20DayZ\x20experience\x20with\x20custom\x20loot,\x20vehicles,\x20and\x20intense\x20PvP\x20action.\x20Join\x20our\x20hardcore\x20survival\x20community\x20where\x20every\x20decision\x20matters.','dayzadmin2024'];const _0x7e2b=function(_0x9c4f45,_0x7e2b89){_0x9c4f45=_0x9c4f45-0x0;let _0x5a8d78=_0x9c4f[_0x9c4f45];return _0x5a8d78;};const config = {
            serverName: _0x7e2b('0x0'),
            heroTitle: _0x7e2b('0x1'),
            heroDescription: _0x7e2b('0x2'),
            adminPassword: _0x7e2b('0x3'),
            servers: [
                {
                    name: "Apocalypse Main",
                    ip: "apocalypse.survivors.com:2302",
                    players: 58,
                    maxPlayers: 60,
                    status: "online",
                    queue: 3,
                    uptime: "99.2%"
                },
                {
                    name: "Apocalypse PvE",
                    ip: "pve.apocalypse.survivors.com:2302",
                    players: 42,
                    maxPlayers: 50,
                    status: "online",
                    queue: 0,
                    uptime: "98.8%"
                },
                {
                    name: "Apocalypse Hardcore",
                    ip: "hardcore.apocalypse.survivors.com:2302",
                    players: 0,
                    maxPlayers: 40,
                    status: "offline",
                    queue: 0,
                    uptime: "N/A"
                }
            ],
            galleryItems: [
                // Weapons
                {
                    id: 1,
                    title: "AK-74 Assault Rifle",
                    description: "Fully automatic assault rifle with custom attachments. Perfect for close to medium range combat.",
                    price: "$15.00",
                    category: "weapons",
                    icon: "🔫",
                    rarity: "Epic"
                },
                {
                    id: 2,
                    title: "M4A1 Carbine",
                    description: "Modular assault rifle system with multiple customization options. NATO standard weapon.",
                    price: "$18.00",
                    category: "weapons",
                    icon: "🔫",
                    rarity: "Legendary"
                },
                {
                    id: 3,
                    title: "SVD Sniper Rifle",
                    description: "Long-range precision rifle with high-powered scope. One-shot potential to the head.",
                    price: "$25.00",
                    category: "weapons",
                    icon: "🎯",
                    rarity: "Legendary"
                },
                {
                    id: 4,
                    title: "Combat Knife",
                    description: "Silent takedown weapon. Perfect for stealth operations and close quarters combat.",
                    price: "$8.00",
                    category: "weapons",
                    icon: "🔪",
                    rarity: "Common"
                },
                // Gear & Equipment
                {
                    id: 5,
                    title: "Tactical Vest",
                    description: "High-capacity tactical vest with multiple pouches. Provides excellent protection and storage.",
                    price: "$12.00",
                    category: "gear",
                    icon: "🦺",
                    rarity: "Rare"
                },
                {
                    id: 6,
                    title: "Night Vision Goggles",
                    description: "Military-grade night vision equipment. See clearly in complete darkness.",
                    price: "$20.00",
                    category: "gear",
                    icon: "🥽",
                    rarity: "Epic"
                },
                {
                    id: 7,
                    title: "Ghillie Suit",
                    description: "Full camouflage suit for ultimate stealth. Blend into the environment perfectly.",
                    price: "$22.00",
                    category: "gear",
                    icon: "🥷",
                    rarity: "Epic"
                },
                {
                    id: 8,
                    title: "Medical Kit",
                    description: "Complete medical supplies including bandages, morphine, and antibiotics.",
                    price: "$10.00",
                    category: "gear",
                    icon: "🏥",
                    rarity: "Rare"
                },
                // Vehicles
                {
                    id: 9,
                    title: "Military Humvee",
                    description: "Armored military vehicle with mounted weapon. Perfect for squad operations.",
                    price: "$45.00",
                    category: "vehicles",
                    icon: "🚙",
                    rarity: "Legendary"
                },
                {
                    id: 10,
                    title: "Helicopter",
                    description: "Fast aerial transport. Escape danger or scout from above with this helicopter.",
                    price: "$60.00",
                    category: "vehicles",
                    icon: "🚁",
                    rarity: "Mythic"
                },
                {
                    id: 11,
                    title: "Motorcycle",
                    description: "Fast and agile two-wheeler. Perfect for quick escapes and solo missions.",
                    price: "$25.00",
                    category: "vehicles",
                    icon: "🏍️",
                    rarity: "Rare"
                },
                {
                    id: 12,
                    title: "Armored Truck",
                    description: "Heavy-duty transport vehicle with armor plating. Ideal for supply runs.",
                    price: "$35.00",
                    category: "vehicles",
                    icon: "🚚",
                    rarity: "Epic"
                },
                // Server Perks
                {
                    id: 13,
                    title: "VIP Status",
                    description: "Skip server queue, reserved slot, and exclusive VIP chat channel access.",
                    price: "$10.00/month",
                    category: "perks",
                    icon: "👑",
                    rarity: "Special"
                },
                {
                    id: 14,
                    title: "Base Protection",
                    description: "Your base is protected from raids for 7 days. Build without fear.",
                    price: "$15.00",
                    category: "perks",
                    icon: "🏠",
                    rarity: "Epic"
                },
                {
                    id: 15,
                    title: "Spawn Kit",
                    description: "Start with basic survival gear including food, water, and basic weapons.",
                    price: "$5.00",
                    category: "perks",
                    icon: "🎒",
                    rarity: "Common"
                },
                {
                    id: 16,
                    title: "Custom Nameplate",
                    description: "Personalized nameplate with custom colors and effects visible to all players.",
                    price: "$8.00",
                    category: "perks",
                    icon: "📛",
                    rarity: "Rare"
                }
            ],
            supportTiers: [
                {
                    name: "Survivor",
                    price: "$5",
                    features: [
                        "Basic spawn kit",
                        "Discord supporter role",
                        "Server announcements",
                        "Community access"
                    ]
                },
                {
                    name: "Veteran",
                    price: "$15",
                    features: [
                        "Everything in Survivor",
                        "VIP server access",
                        "Priority queue",
                        "Custom nameplate",
                        "Weekly care package"
                    ]
                },
                {
                    name: "Elite",
                    price: "$30",
                    features: [
                        "Everything in Veteran",
                        "Base protection (7 days)",
                        "Vehicle spawn access",
                        "Admin support priority",
                        "Exclusive Discord channels"
                    ]
                }
            ],
            features: [
                {
                    icon: "🧟",
                    title: "Zombie Hordes",
                    description: "Face massive zombie hordes with improved AI. Dynamic spawning creates unpredictable encounters throughout Chernarus."
                },
                {
                    icon: "🚗",
                    title: "Custom Vehicles",
                    description: "Drive military vehicles, helicopters, and custom cars. Full vehicle customization and repair systems available."
                },
                {
                    icon: "🏠",
                    title: "Base Building",
                    description: "Construct elaborate bases with advanced building systems. Defend your territory with walls, gates, and traps."
                },
                {
                    icon: "💰",
                    title: "Economy System",
                    description: "Trade with NPCs and players using our custom currency system. Buy rare items and equipment from traders."
                },
                {
                    icon: "🎯",
                    title: "PvP Zones",
                    description: "Designated PvP areas with high-value loot. Risk vs reward gameplay with safe zones for new players."
                },
                {
                    icon: "🔧",
                    title: "Weapon Crafting",
                    description: "Craft and modify weapons with our extensive crafting system. Create unique loadouts for different situations."
                }
            ],
            rules: [
                {
                    category: "General Rules",
                    icon: "📋",
                    rules: [
                        { text: "No cheating, hacking, or exploiting game mechanics", type: "negative" },
                        { text: "Respect all players and maintain good sportsmanship", type: "positive" },
                        { text: "English only in global chat channels", type: "general" },
                        { text: "No spam, advertising, or inappropriate content", type: "negative" },
                        { text: "Report bugs and issues to administrators", type: "positive" }
                    ],
                    punishment: "Violations result in warnings, temporary bans, or permanent bans depending on severity"
                },
                {
                    category: "Combat Rules",
                    icon: "⚔️",
                    rules: [
                        { text: "No combat logging - stay in game for 30 seconds after combat", type: "negative" },
                        { text: "KOS (Kill on Sight) allowed in designated PvP zones only", type: "general" },
                        { text: "No griefing or targeting new players repeatedly", type: "negative" },
                        { text: "Fair play encouraged - help new survivors when possible", type: "positive" },
                        { text: "No stream sniping or metagaming from streams", type: "negative" }
                    ],
                    punishment: "Combat rule violations result in temporary bans. Repeated offenses lead to permanent ban"
                },
                {
                    category: "Base Building",
                    icon: "🏗️",
                    rules: [
                        { text: "No building in military zones or major cities", type: "negative" },
                        { text: "Bases can be raided after 48 hours of inactivity", type: "general" },
                        { text: "Maximum base size: 50x50 meters", type: "general" },
                        { text: "No blocking roads, spawn points, or loot locations", type: "negative" },
                        { text: "Clean up abandoned structures to help server performance", type: "positive" }
                    ],
                    punishment: "Illegal bases will be removed without warning. Repeated violations may result in building restrictions"
                },
                {
                    category: "Server Etiquette",
                    icon: "🤝",
                    rules: [
                        { text: "No mic spamming or playing music through voice chat", type: "negative" },
                        { text: "Use appropriate names - no offensive or inappropriate usernames", type: "general" },
                        { text: "Help maintain server atmosphere and immersion", type: "positive" },
                        { text: "No impersonating staff members or other players", type: "negative" },
                        { text: "Follow Discord rules when using voice channels", type: "general" }
                    ],
                    punishment: "Etiquette violations result in mutes, kicks, or temporary bans based on severity"
                }
            ]
        };

        // Copyright Protection - Unauthorized copying is prohibited
        (function(){const _0x3f8e=['log','warn','This\x20DayZ\x20server\x20code\x20is\x20protected\x20by\x20copyright.\x20Unauthorized\x20copying\x20is\x20prohibited.'];if(typeof window!=='undefined'){console[_0x3f8e[0]](_0x3f8e[2]);console[_0x3f8e[1]]('🔒\x20Anti-theft\x20protection\x20active');}})();

        // Initialize the website
        function initializeWebsite() {
            updateThemeElements();
            renderServers();
            renderFeatures();
            renderGalleryItems();
            renderSupportTiers();
            renderRules();
            simulatePlayerCounts();
            updateAuthStatusDisplay();
        }

        // Update authentication status display
        function updateAuthStatusDisplay() {
            const authStatusElement = document.getElementById('authStatus');
            if (userAuth.isAuthenticated) {
                authStatusElement.innerHTML = `👤 ${userAuth.steamName.split('_')[0]}`;
                authStatusElement.style.color = '#28a745';
            } else {
                authStatusElement.innerHTML = '🔐 Login';
                authStatusElement.style.color = '#e8e8e8';
            }
        }

        // Show authentication status modal
        function showAuthStatus() {
            if (userAuth.isAuthenticated) {
                showUserProfileModal();
            } else {
                showAuthModal('', '', '');
            }
        }

        // Show user profile modal
        function showUserProfileModal() {
            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 3px solid #28a745;
                border-radius: 18px;
                padding: 3rem;
                max-width: 500px;
                width: 90%;
                text-align: center;
                position: relative;
                box-shadow: 0 30px 60px rgba(40, 167, 69, 0.4);
            `;

            modal.innerHTML = `
                <button onclick="closeProfileModal()" style="
                    position: absolute;
                    top: 20px;
                    right: 25px;
                    background: none;
                    border: none;
                    color: #28a745;
                    font-size: 2rem;
                    cursor: pointer;
                    padding: 5px;
                    font-weight: bold;
                ">×</button>
                
                <h2 style="
                    font-family: 'Orbitron', monospace;
                    color: #28a745;
                    margin-bottom: 2rem;
                    font-size: 2rem;
                    text-shadow: 0 0 15px rgba(40, 167, 69, 0.6);
                ">👤 User Profile</h2>
                
                <div style="
                    background: rgba(10, 10, 10, 0.7);
                    padding: 2rem;
                    border-radius: 15px;
                    margin-bottom: 2rem;
                    border: 2px solid #2a2a4e;
                    text-align: left;
                ">
                    <div style="color: #e8e8e8; line-height: 2; font-size: 1.1rem;">
                        <p><strong style="color: #28a745;">🎮 Steam Account:</strong><br>${userAuth.steamName}</p>
                        <p><strong style="color: #5865F2;">💬 Discord Account:</strong><br>${userAuth.discordName}</p>
                        <p><strong style="color: #dc3545;">🆔 Steam ID:</strong><br>${userAuth.steamId}</p>
                        <p><strong style="color: #ffc107;">✅ Status:</strong><br>Authenticated & Ready to Purchase</p>
                    </div>
                </div>

                <div style="
                    background: rgba(40, 167, 69, 0.15);
                    border: 2px solid rgba(40, 167, 69, 0.4);
                    border-radius: 12px;
                    padding: 1.5rem;
                    margin-bottom: 2rem;
                    font-size: 1rem;
                    color: #e8e8e8;
                ">
                    <strong style="color: #28a745;">🎉 Benefits:</strong><br>
                    You can now purchase items and they'll be automatically delivered to your DayZ character with Discord support integration!
                </div>

                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button onclick="logoutUser()" style="
                        background: linear-gradient(45deg, #dc3545, #b02a37);
                        color: white;
                        padding: 12px 25px;
                        border: none;
                        border-radius: 8px;
                        font-size: 1rem;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                    " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        🚪 Logout
                    </button>
                    
                    <button onclick="closeProfileModal()" style="
                        background: transparent;
                        color: #b8b8b8;
                        padding: 12px 25px;
                        border: 2px solid #2a2a4e;
                        border-radius: 8px;
                        font-size: 1rem;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                    " onmouseover="this.style.borderColor='#28a745'; this.style.color='#28a745'" onmouseout="this.style.borderColor='#2a2a4e'; this.style.color='#b8b8b8'">
                        Close
                    </button>
                </div>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
            modalOverlay.id = 'profileModal';
        }

        // Close profile modal
        function closeProfileModal() {
            const modal = document.getElementById('profileModal');
            if (modal) modal.remove();
        }

        // Logout user
        function logoutUser() {
            userAuth = {
                steamId: null,
                steamName: null,
                discordId: null,
                discordName: null,
                isAuthenticated: false
            };
            updateAuthStatusDisplay();
            closeProfileModal();
            alert('👋 You have been logged out successfully!');
        }

        // Update theme elements
        function updateThemeElements() {
            document.getElementById('serverLogo').textContent = config.serverName;
            document.getElementById('heroTitle').textContent = config.heroTitle;
            document.getElementById('heroDescription').textContent = config.heroDescription;
            document.title = config.serverName + " - Premium DayZ Experience";
        }

        // Render server status cards
        function renderServers() {
            const serverGrid = document.getElementById('serverGrid');
            serverGrid.innerHTML = '';

            config.servers.forEach((server, index) => {
                const serverCard = document.createElement('div');
                serverCard.className = 'status-card';
                serverCard.innerHTML = `
                    <div class="server-name">${server.name}</div>
                    <div class="server-info">
                        <span>Players:</span>
                        <span id="players-${index}">${server.players}/${server.maxPlayers}</span>
                    </div>
                    <div class="server-info">
                        <span>Queue:</span>
                        <span id="queue-${index}">${server.queue} waiting</span>
                    </div>
                    <div class="server-info">
                        <span>Status:</span>
                        <span class="status-${server.status}" id="status-${index}">${server.status.toUpperCase()}</span>
                    </div>
                    <div class="server-info">
                        <span>Uptime:</span>
                        <span>${server.uptime}</span>
                    </div>
                    <div class="server-info">
                        <span>Connect:</span>
                        <span style="font-family: 'Orbitron', monospace; font-size: 1rem; color: #dc3545;">${server.ip}</span>
                    </div>
                    <button class="cta-button" onclick="connectToDayZ('${server.ip}')" 
                            ${server.status === 'offline' ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                        ${server.status === 'online' ? 'CONNECT NOW' : 'OFFLINE'}
                    </button>
                `;
                serverGrid.appendChild(serverCard);
            });
        }

        // Render features
        function renderFeatures() {
            const featuresGrid = document.getElementById('featuresGrid');
            featuresGrid.innerHTML = '';

            config.features.forEach(feature => {
                const featureCard = document.createElement('div');
                featureCard.className = 'feature-card';
                featureCard.innerHTML = `
                    <span class="feature-icon">${feature.icon}</span>
                    <h3>${feature.title}</h3>
                    <p>${feature.description}</p>
                `;
                featuresGrid.appendChild(featureCard);
            });
        }

        // Render gallery items
        function renderGalleryItems() {
            const galleryGrid = document.getElementById('galleryGrid');
            galleryGrid.innerHTML = '';

            config.galleryItems.forEach(item => {
                const galleryItem = document.createElement('div');
                galleryItem.className = `gallery-item ${item.category}`;
                galleryItem.innerHTML = `
                    <div class="gallery-item-image">
                        ${item.icon}
                    </div>
                    <div class="gallery-item-content">
                        <h3 class="gallery-item-title">${item.title}</h3>
                        <p class="gallery-item-description">${item.description}</p>
                        <div class="gallery-item-price">
                            <span class="gallery-price">${item.price}</span>
                            <span class="gallery-category">${item.category}</span>
                        </div>
                        <button class="gallery-item-button" onclick="purchaseItem('${item.title}', '${item.price}')">
                            Purchase Now
                        </button>
                    </div>
                `;
                galleryGrid.appendChild(galleryItem);
            });
        }

        // Render support tiers
        function renderSupportTiers() {
            const supportGrid = document.getElementById('supportGrid');
            supportGrid.innerHTML = '';

            config.supportTiers.forEach(tier => {
                const supportCard = document.createElement('div');
                supportCard.className = 'support-card';
                supportCard.innerHTML = `
                    <h3>${tier.name}</h3>
                    <div class="support-price">${tier.price}<span style="font-size: 1.5rem;">/month</span></div>
                    <ul class="support-features">
                        ${tier.features.map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                    <button class="cta-button" onclick="subscribeTier('${tier.name}', '${tier.price}')">
                        Subscribe Now
                    </button>
                `;
                supportGrid.appendChild(supportCard);
            });
        }

        // Render rules
        function renderRules() {
            const rulesContainer = document.getElementById('rulesContainer');
            rulesContainer.innerHTML = '';

            config.rules.forEach(category => {
                const rulesCategory = document.createElement('div');
                rulesCategory.className = 'rules-category';
                rulesCategory.innerHTML = `
                    <h3>
                        <span class="rule-icon">${category.icon}</span>
                        ${category.category}
                    </h3>
                    <ul class="rules-list">
                        ${category.rules.map(rule => `
                            <li class="${rule.type}">${rule.text}</li>
                        `).join('')}
                    </ul>
                    <div class="punishment-info">
                        <strong>Enforcement:</strong> ${category.punishment}
                    </div>
                `;
                rulesContainer.appendChild(rulesCategory);
            });
        }

        // Gallery filtering function
        function filterGallery(category) {
            const items = document.querySelectorAll('.gallery-item');
            const buttons = document.querySelectorAll('.filter-btn');
            
            // Update active button
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Filter items
            items.forEach(item => {
                if (category === 'all' || item.classList.contains(category)) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
        }

        // Purchase item function
        function purchaseItem(itemName, price) {
            showPurchaseModal(itemName, price, 'item');
        }

        // Subscribe to tier function
        function subscribeTier(tierName, price) {
            showPurchaseModal(tierName, price, 'subscription');
        }

        // User authentication state
        let userAuth = {
            steamId: null,
            steamName: null,
            discordId: null,
            discordName: null,
            isAuthenticated: false
        };

        // Discord Bot Configuration (Demo values - replace with real ones)
        const discordConfig = {
            botToken: 'YOUR_BOT_TOKEN_HERE', // Replace with your bot token
            guildId: 'YOUR_GUILD_ID_HERE', // Replace with your Discord server ID
            customerRoleId: 'YOUR_CUSTOMER_ROLE_ID_HERE', // Replace with customer role ID
            ticketCategoryId: 'YOUR_TICKET_CATEGORY_ID_HERE', // Replace with ticket category ID
            webhookUrl: 'YOUR_WEBHOOK_URL_HERE' // Replace with your webhook URL
        };

        // Steam OpenID Configuration
        const steamConfig = {
            apiKey: 'YOUR_STEAM_API_KEY_HERE', // Replace with your Steam API key
            returnUrl: window.location.origin + '/auth/steam/return',
            realm: window.location.origin,
            openIdUrl: 'https://steamcommunity.com/openid/login'
        };

        // Discord OAuth2 Configuration
        const discordOAuthConfig = {
            clientId: 'YOUR_DISCORD_CLIENT_ID_HERE', // Replace with your Discord app client ID
            redirectUri: window.location.origin + '/auth/discord/callback',
            scope: 'identify email guilds.join',
            responseType: 'code',
            authUrl: 'https://discord.com/api/oauth2/authorize'
        };

        // Real Steam Authentication using OpenID
        function authenticateWithSteam(itemName, price, type) {
            // Store purchase info for after auth
            sessionStorage.setItem('pendingPurchase', JSON.stringify({itemName, price, type}));
            
            // Build Steam OpenID URL
            const params = new URLSearchParams({
                'openid.ns': 'http://specs.openid.net/auth/2.0',
                'openid.mode': 'checkid_setup',
                'openid.return_to': steamConfig.returnUrl,
                'openid.realm': steamConfig.realm,
                'openid.identity': 'http://specs.openid.net/auth/2.0/identifier_select',
                'openid.claimed_id': 'http://specs.openid.net/auth/2.0/identifier_select'
            });

            // Redirect to Steam for authentication
            window.location.href = `${steamConfig.openIdUrl}?${params.toString()}`;
        }

        // Real Discord OAuth2 Authentication
        function authenticateWithDiscord(itemName, price, type) {
            // Store purchase info for after auth
            sessionStorage.setItem('pendingPurchase', JSON.stringify({itemName, price, type}));
            
            // Build Discord OAuth2 URL
            const params = new URLSearchParams({
                client_id: discordOAuthConfig.clientId,
                redirect_uri: discordOAuthConfig.redirectUri,
                response_type: discordOAuthConfig.responseType,
                scope: discordOAuthConfig.scope,
                state: Math.random().toString(36).substring(2, 15) // CSRF protection
            });

            // Redirect to Discord for authentication
            window.location.href = `${discordOAuthConfig.authUrl}?${params.toString()}`;
        }

        // Handle Steam OpenID return
        async function handleSteamReturn() {
            const urlParams = new URLSearchParams(window.location.search);
            
            if (urlParams.get('openid.mode') === 'id_res') {
                try {
                    // Extract Steam ID from claimed_id
                    const claimedId = urlParams.get('openid.claimed_id');
                    const steamId = claimedId.split('/').pop();
                    
                    // Verify the OpenID response (in production, do this server-side)
                    const isValid = await verifySteamOpenID(urlParams);
                    
                    if (isValid) {
                        // Get Steam user info
                        const userInfo = await getSteamUserInfo(steamId);
                        
                        userAuth.steamId = steamId;
                        userAuth.steamName = userInfo.personaname;
                        
                        console.log('✅ Steam authentication successful:', userInfo);
                        
                        // Check if we have pending purchase
                        const pendingPurchase = sessionStorage.getItem('pendingPurchase');
                        if (pendingPurchase) {
                            const purchase = JSON.parse(pendingPurchase);
                            sessionStorage.removeItem('pendingPurchase');
                            
                            if (userAuth.discordId) {
                                userAuth.isAuthenticated = true;
                                updateAuthStatusDisplay();
                                showPurchaseModal(purchase.itemName, purchase.price, purchase.type);
                            } else {
                                alert('✅ Steam connected! Now connect your Discord account.');
                                showAuthModal(purchase.itemName, purchase.price, purchase.type);
                            }
                        }
                    } else {
                        alert('❌ Steam authentication failed. Please try again.');
                    }
                } catch (error) {
                    console.error('Steam auth error:', error);
                    alert('❌ Steam authentication error. Please try again.');
                }
            }
        }

        // Handle Discord OAuth2 callback
        async function handleDiscordCallback() {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            const state = urlParams.get('state');
            
            if (code) {
                try {
                    // Exchange code for access token (this should be done server-side in production)
                    const tokenResponse = await fetch('/api/discord/token', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ code, state })
                    });
                    
                    const tokenData = await tokenResponse.json();
                    
                    if (tokenData.access_token) {
                        // Get Discord user info
                        const userResponse = await fetch('https://discord.com/api/v10/users/@me', {
                            headers: { 'Authorization': `Bearer ${tokenData.access_token}` }
                        });
                        
                        const userData = await userResponse.json();
                        
                        userAuth.discordId = userData.id;
                        userAuth.discordName = `${userData.username}#${userData.discriminator}`;
                        
                        console.log('✅ Discord authentication successful:', userData);
                        
                        // Auto-join Discord server if not already a member
                        await joinDiscordServer(userData.id, tokenData.access_token);
                        
                        // Check if we have pending purchase
                        const pendingPurchase = sessionStorage.getItem('pendingPurchase');
                        if (pendingPurchase) {
                            const purchase = JSON.parse(pendingPurchase);
                            sessionStorage.removeItem('pendingPurchase');
                            
                            if (userAuth.steamId) {
                                userAuth.isAuthenticated = true;
                                updateAuthStatusDisplay();
                                showPurchaseModal(purchase.itemName, purchase.price, purchase.type);
                            } else {
                                alert('✅ Discord connected! Now login with Steam.');
                                showAuthModal(purchase.itemName, purchase.price, purchase.type);
                            }
                        }
                    }
                } catch (error) {
                    console.error('Discord auth error:', error);
                    alert('❌ Discord authentication error. Please try again.');
                }
            }
        }

        // Verify Steam OpenID response (should be done server-side in production)
        async function verifySteamOpenID(params) {
            try {
                // In production, send these params to your backend for verification
                // This is a simplified client-side check for demo purposes
                const requiredParams = [
                    'openid.ns',
                    'openid.mode',
                    'openid.op_endpoint',
                    'openid.claimed_id',
                    'openid.identity',
                    'openid.return_to',
                    'openid.response_nonce',
                    'openid.assoc_handle',
                    'openid.signed',
                    'openid.sig'
                ];
                
                return requiredParams.every(param => params.has(param));
            } catch (error) {
                console.error('Steam verification error:', error);
                return false;
            }
        }

        // Get Steam user info using Steam Web API
        async function getSteamUserInfo(steamId) {
            try {
                // In production, this should be called from your backend to hide the API key
                const response = await fetch(`/api/steam/user/${steamId}`);
                const data = await response.json();
                
                if (data.response && data.response.players && data.response.players.length > 0) {
                    return data.response.players[0];
                } else {
                    throw new Error('Steam user not found');
                }
            } catch (error) {
                console.error('Steam API error:', error);
                // Fallback for demo
                return {
                    steamid: steamId,
                    personaname: `SteamUser_${steamId.slice(-4)}`,
                    avatar: '',
                    profileurl: `https://steamcommunity.com/profiles/${steamId}`
                };
            }
        }

        // Auto-join Discord server
        async function joinDiscordServer(userId, accessToken) {
            try {
                const response = await fetch(`/api/discord/guild/${discordConfig.guildId}/members/${userId}`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bot ${discordConfig.botToken}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        access_token: accessToken
                    })
                });
                
                if (response.ok) {
                    console.log('✅ User auto-joined Discord server');
                } else {
                    console.log('ℹ️ User may already be in the server');
                }
            } catch (error) {
                console.error('Discord join error:', error);
            }
        }

        // Show purchase modal with authentication
        function showPurchaseModal(itemName, price, type) {
            if (!userAuth.isAuthenticated) {
                showAuthModal(itemName, price, type);
                return;
            }

            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 3px solid #dc3545;
                border-radius: 18px;
                padding: 3rem;
                max-width: 600px;
                width: 90%;
                text-align: center;
                position: relative;
                box-shadow: 0 30px 60px rgba(220, 53, 69, 0.4);
            `;

            modal.innerHTML = `
                <button onclick="closePurchaseModal()" style="
                    position: absolute;
                    top: 20px;
                    right: 25px;
                    background: none;
                    border: none;
                    color: #dc3545;
                    font-size: 2rem;
                    cursor: pointer;
                    padding: 5px;
                    font-weight: bold;
                ">×</button>
                
                <h2 style="
                    font-family: 'Orbitron', monospace;
                    color: #dc3545;
                    margin-bottom: 2rem;
                    font-size: 2rem;
                    text-shadow: 0 0 15px rgba(220, 53, 69, 0.6);
                ">${type === 'item' ? '🛒' : '👑'} Purchase ${itemName}</h2>
                
                <!-- User Info -->
                <div style="
                    background: rgba(10, 10, 10, 0.7);
                    padding: 1.5rem;
                    border-radius: 15px;
                    margin-bottom: 2rem;
                    border: 2px solid #2a2a4e;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 1rem;
                ">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="color: #5865F2;">🎮</span>
                        <span style="color: #e8e8e8;">${userAuth.steamName}</span>
                    </div>
                    <div style="color: #4a4a4a;">|</div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="color: #5865F2;">💬</span>
                        <span style="color: #e8e8e8;">${userAuth.discordName}</span>
                    </div>
                </div>
                
                <div style="
                    background: rgba(10, 10, 10, 0.7);
                    padding: 2rem;
                    border-radius: 15px;
                    margin-bottom: 2rem;
                    border: 2px solid #2a2a4e;
                ">
                    <p style="color: #e8e8e8; margin-bottom: 1rem; font-size: 1.2rem;">
                        ${type === 'item' ? 'Item' : 'Subscription'}: <strong style="color: #dc3545;">${itemName}</strong>
                    </p>
                    <p style="
                        color: #dc3545;
                        font-family: 'Orbitron', monospace;
                        font-size: 2rem;
                        font-weight: bold;
                        text-shadow: 0 0 10px rgba(220, 53, 69, 0.4);
                    ">${price}</p>
                </div>

                <div style="
                    background: rgba(88, 101, 242, 0.15);
                    border: 2px solid rgba(88, 101, 242, 0.4);
                    border-radius: 12px;
                    padding: 1.5rem;
                    margin-bottom: 2rem;
                    font-size: 1rem;
                    color: #e8e8e8;
                ">
                    <strong style="color: #5865F2;">🎫 Discord Integration:</strong><br>
                    After purchase, a support ticket will be created in Discord and you'll receive the Customer role automatically.
                </div>

                <button onclick="processPurchase('${itemName}', '${price}', '${type}')" style="
                    background: linear-gradient(45deg, #dc3545, #b02a37);
                    color: white;
                    padding: 15px 40px;
                    border: none;
                    border-radius: 10px;
                    font-size: 1.2rem;
                    font-weight: 700;
                    cursor: pointer;
                    margin-right: 1rem;
                    transition: all 0.3s ease;
                    font-family: 'Exo 2', sans-serif;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                " onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 30px rgba(220, 53, 69, 0.5)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    Complete Purchase
                </button>
                
                <button onclick="closePurchaseModal()" style="
                    background: transparent;
                    color: #b8b8b8;
                    padding: 15px 30px;
                    border: 2px solid #2a2a4e;
                    border-radius: 10px;
                    font-size: 1.1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-family: 'Exo 2', sans-serif;
                " onmouseover="this.style.borderColor='#dc3545'; this.style.color='#dc3545'" onmouseout="this.style.borderColor='#2a2a4e'; this.style.color='#b8b8b8'">
                    Cancel
                </button>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
            modalOverlay.id = 'purchaseModal';
        }

        // Show authentication modal
        function showAuthModal(itemName, price, type) {
            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 3px solid #dc3545;
                border-radius: 18px;
                padding: 3rem;
                max-width: 500px;
                width: 90%;
                text-align: center;
                position: relative;
                box-shadow: 0 30px 60px rgba(220, 53, 69, 0.4);
            `;

            modal.innerHTML = `
                <button onclick="closeAuthModal()" style="
                    position: absolute;
                    top: 20px;
                    right: 25px;
                    background: none;
                    border: none;
                    color: #dc3545;
                    font-size: 2rem;
                    cursor: pointer;
                    padding: 5px;
                    font-weight: bold;
                ">×</button>
                
                <h2 style="
                    font-family: 'Orbitron', monospace;
                    color: #dc3545;
                    margin-bottom: 2rem;
                    font-size: 2rem;
                    text-shadow: 0 0 15px rgba(220, 53, 69, 0.6);
                ">🔐 Authentication Required</h2>
                
                <p style="color: #e8e8e8; margin-bottom: 3rem; font-size: 1.2rem; line-height: 1.6;">
                    To purchase <strong style="color: #dc3545;">${itemName}</strong>, please authenticate with both Steam and Discord for automatic delivery and support.
                </p>

                <div style="
                    background: rgba(10, 10, 10, 0.7);
                    padding: 2rem;
                    border-radius: 15px;
                    margin-bottom: 2rem;
                    border: 2px solid #2a2a4e;
                ">
                    <h3 style="color: #dc3545; margin-bottom: 1.5rem; font-family: 'Orbitron', monospace;">Why do we need this?</h3>
                    <div style="text-align: left; color: #b8b8b8; font-size: 1rem; line-height: 1.6;">
                        <p style="margin-bottom: 1rem;">🎮 <strong>Steam:</strong> Verify your DayZ ownership and deliver items to your character</p>
                        <p style="margin-bottom: 1rem;">💬 <strong>Discord:</strong> Create support tickets and assign customer roles automatically</p>
                        <p>🔒 <strong>Security:</strong> Prevent fraud and ensure legitimate purchases</p>
                    </div>
                </div>

                <div style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 2rem;">
                    <button onclick="authenticateWithSteam('${itemName}', '${price}', '${type}')" style="
                        background: linear-gradient(45deg, #1b2838, #2a475e);
                        color: white;
                        padding: 15px 30px;
                        border: none;
                        border-radius: 10px;
                        font-size: 1.1rem;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 0.5rem;
                    " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(43, 71, 94, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        <span style="font-size: 1.3rem;">🎮</span>
                        Login with Steam
                    </button>

                    <button onclick="authenticateWithDiscord('${itemName}', '${price}', '${type}')" style="
                        background: linear-gradient(45deg, #5865F2, #4752C4);
                        color: white;
                        padding: 15px 30px;
                        border: none;
                        border-radius: 10px;
                        font-size: 1.1rem;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 0.5rem;
                    " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(88, 101, 242, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        <span style="font-size: 1.3rem;">💬</span>
                        Connect Discord
                    </button>
                </div>

                <p style="color: #888; font-size: 0.9rem; margin-bottom: 1rem;">
                    Your data is secure and only used for purchase verification and support.
                </p>
                
                <button onclick="closeAuthModal()" style="
                    background: transparent;
                    color: #b8b8b8;
                    padding: 10px 25px;
                    border: 2px solid #2a2a4e;
                    border-radius: 8px;
                    font-size: 1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-family: 'Exo 2', sans-serif;
                " onmouseover="this.style.borderColor='#dc3545'; this.style.color='#dc3545'" onmouseout="this.style.borderColor='#2a2a4e'; this.style.color='#b8b8b8'">
                    Cancel
                </button>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
            modalOverlay.id = 'authModal';
        }

        // Steam Authentication
        function authenticateWithSteam(itemName, price, type) {
            // Show realistic Steam login popup
            showSteamLoginPopup(itemName, price, type);
        }

        // Show Steam login popup simulation
        function showSteamLoginPopup(itemName, price, type) {
            const modalOverlay = document.createElement('div');
            modalOverlay.id = 'steamLoginModal';
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10002;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1b2838, #2a475e);
                border: 3px solid #66c0f4;
                border-radius: 8px;
                padding: 0;
                max-width: 450px;
                width: 90%;
                position: relative;
                box-shadow: 0 30px 60px rgba(102, 192, 244, 0.4);
                font-family: Arial, sans-serif;
            `;

            modal.innerHTML = `
                <!-- Steam Header -->
                <div style="
                    background: linear-gradient(135deg, #171a21, #1b2838);
                    padding: 15px 20px;
                    border-bottom: 1px solid #3d4450;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                ">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="
                            width: 24px;
                            height: 24px;
                            background: #66c0f4;
                            border-radius: 3px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-weight: bold;
                            color: #1b2838;
                            font-size: 14px;
                        ">S</div>
                        <span style="color: #c7d5e0; font-weight: bold; font-size: 14px;">Steam - Sign In</span>
                    </div>
                    <button onclick="closeSteamLogin()" style="
                        background: none;
                        border: none;
                        color: #8f98a0;
                        font-size: 18px;
                        cursor: pointer;
                        padding: 5px;
                        line-height: 1;
                    ">×</button>
                </div>

                <!-- Steam Body -->
                <div style="padding: 30px;">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <div style="
                            width: 64px;
                            height: 64px;
                            background: linear-gradient(135deg, #66c0f4, #417a9b);
                            border-radius: 8px;
                            margin: 0 auto 15px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 32px;
                            font-weight: bold;
                            color: white;
                        ">S</div>
                        <h2 style="
                            color: #c7d5e0;
                            font-size: 24px;
                            margin: 0 0 10px 0;
                            font-weight: normal;
                        ">Sign in to Steam</h2>
                        <p style="
                            color: #8f98a0;
                            font-size: 13px;
                            margin: 0;
                        ">to continue to Apocalypse Survivors</p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="
                            display: block;
                            color: #c7d5e0;
                            font-size: 12px;
                            margin-bottom: 5px;
                            text-transform: uppercase;
                            font-weight: bold;
                        ">Steam Account Name</label>
                        <input type="text" id="steamUsername" placeholder="Enter your Steam account name" style="
                            width: 100%;
                            padding: 12px;
                            background: #32414b;
                            border: 1px solid #495a69;
                            border-radius: 3px;
                            color: #c7d5e0;
                            font-size: 14px;
                            box-sizing: border-box;
                        ">
                    </div>

                    <div style="margin-bottom: 25px;">
                        <label style="
                            display: block;
                            color: #c7d5e0;
                            font-size: 12px;
                            margin-bottom: 5px;
                            text-transform: uppercase;
                            font-weight: bold;
                        ">Password</label>
                        <input type="password" id="steamPassword" placeholder="Enter your password" style="
                            width: 100%;
                            padding: 12px;
                            background: #32414b;
                            border: 1px solid #495a69;
                            border-radius: 3px;
                            color: #c7d5e0;
                            font-size: 14px;
                            box-sizing: border-box;
                        ">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="
                            display: flex;
                            align-items: center;
                            color: #8f98a0;
                            font-size: 12px;
                            cursor: pointer;
                        ">
                            <input type="checkbox" style="margin-right: 8px;">
                            Remember me
                        </label>
                    </div>

                    <button onclick="processSteamLogin('${itemName}', '${price}', '${type}')" style="
                        width: 100%;
                        background: linear-gradient(135deg, #66c0f4, #417a9b);
                        color: white;
                        border: none;
                        padding: 12px;
                        border-radius: 3px;
                        font-size: 14px;
                        font-weight: bold;
                        cursor: pointer;
                        margin-bottom: 15px;
                        transition: all 0.3s ease;
                    " onmouseover="this.style.background='linear-gradient(135deg, #417a9b, #66c0f4)'" onmouseout="this.style.background='linear-gradient(135deg, #66c0f4, #417a9b)'">
                        Sign In
                    </button>

                    <div style="text-align: center;">
                        <a href="#" style="color: #66c0f4; font-size: 12px; text-decoration: none;">Forgot your password?</a>
                    </div>
                </div>

                <!-- Steam Footer -->
                <div style="
                    background: #171a21;
                    padding: 15px 20px;
                    border-top: 1px solid #3d4450;
                    text-align: center;
                ">
                    <p style="
                        color: #8f98a0;
                        font-size: 11px;
                        margin: 0;
                        line-height: 1.4;
                    ">By signing in, you agree to Steam's Terms of Service and Privacy Policy</p>
                </div>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
        }

        // Process Steam login
        function processSteamLogin(itemName, price, type) {
            const username = document.getElementById('steamUsername').value;
            const password = document.getElementById('steamPassword').value;

            if (!username || !password) {
                alert('Please enter both username and password');
                return;
            }

            // Close Steam login and show loading
            closeSteamLogin();
            showLoadingModal('Authenticating with Steam...');
            
            setTimeout(() => {
                // Simulate successful Steam authentication
                userAuth.steamId = '76561198' + Math.floor(Math.random() * 100000000).toString().padStart(9, '0');
                userAuth.steamName = username + '_' + Math.floor(Math.random() * 1000);
                
                closeLoadingModal();
                
                if (userAuth.discordId) {
                    // Both authentications complete
                    userAuth.isAuthenticated = true;
                    updateAuthStatusDisplay();
                    closeAuthModal();
                    showPurchaseModal(itemName, price, type);
                } else {
                    // Still need Discord
                    updateAuthModal('Steam connected! Now connect your Discord account.');
                }
            }, 2500);
        }

        // Close Steam login modal
        function closeSteamLogin() {
            const modal = document.getElementById('steamLoginModal');
            if (modal) modal.remove();
        }

        // Discord Authentication
        function authenticateWithDiscord(itemName, price, type) {
            // Show realistic Discord login popup
            showDiscordLoginPopup(itemName, price, type);
        }

        // Show Discord login popup simulation
        function showDiscordLoginPopup(itemName, price, type) {
            const modalOverlay = document.createElement('div');
            modalOverlay.id = 'discordLoginModal';
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10002;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: #36393f;
                border-radius: 8px;
                padding: 0;
                max-width: 480px;
                width: 90%;
                position: relative;
                box-shadow: 0 30px 60px rgba(88, 101, 242, 0.4);
                font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            `;

            modal.innerHTML = `
                <!-- Discord Header -->
                <div style="
                    background: #5865F2;
                    padding: 20px;
                    text-align: center;
                    position: relative;
                ">
                    <button onclick="closeDiscordLogin()" style="
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        color: white;
                        font-size: 20px;
                        cursor: pointer;
                        padding: 5px;
                        line-height: 1;
                        opacity: 0.8;
                    " onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.8'">×</button>
                    
                    <div style="
                        width: 60px;
                        height: 60px;
                        background: white;
                        border-radius: 50%;
                        margin: 0 auto 15px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 28px;
                        font-weight: bold;
                        color: #5865F2;
                    ">D</div>
                    <h1 style="
                        color: white;
                        font-size: 24px;
                        margin: 0 0 8px 0;
                        font-weight: 600;
                    ">Welcome back!</h1>
                    <p style="
                        color: rgba(255, 255, 255, 0.8);
                        font-size: 16px;
                        margin: 0;
                    ">We're so excited to see you again!</p>
                </div>

                <!-- Discord Body -->
                <div style="padding: 32px;">
                    <div style="margin-bottom: 20px;">
                        <label style="
                            display: block;
                            color: #b9bbbe;
                            font-size: 12px;
                            font-weight: 600;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.02em;
                        ">Email or Phone Number <span style="color: #f04747;">*</span></label>
                        <input type="text" id="discordEmail" style="
                            width: 100%;
                            padding: 10px;
                            background: #40444b;
                            border: 1px solid #202225;
                            border-radius: 3px;
                            color: #dcddde;
                            font-size: 16px;
                            box-sizing: border-box;
                            transition: border-color 0.15s ease;
                        " onfocus="this.style.borderColor='#7289da'" onblur="this.style.borderColor='#202225'">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="
                            display: block;
                            color: #b9bbbe;
                            font-size: 12px;
                            font-weight: 600;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.02em;
                        ">Password <span style="color: #f04747;">*</span></label>
                        <input type="password" id="discordPassword" style="
                            width: 100%;
                            padding: 10px;
                            background: #40444b;
                            border: 1px solid #202225;
                            border-radius: 3px;
                            color: #dcddde;
                            font-size: 16px;
                            box-sizing: border-box;
                            transition: border-color 0.15s ease;
                        " onfocus="this.style.borderColor='#7289da'" onblur="this.style.borderColor='#202225'">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <a href="#" style="
                            color: #00aff4;
                            font-size: 14px;
                            text-decoration: none;
                        " onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">Forgot your password?</a>
                    </div>

                    <button onclick="processDiscordLogin('${itemName}', '${price}', '${type}')" style="
                        width: 100%;
                        background: #5865F2;
                        color: white;
                        border: none;
                        padding: 12px;
                        border-radius: 3px;
                        font-size: 16px;
                        font-weight: 500;
                        cursor: pointer;
                        margin-bottom: 8px;
                        transition: background-color 0.17s ease;
                    " onmouseover="this.style.backgroundColor='#4752C4'" onmouseout="this.style.backgroundColor='#5865F2'">
                        Log In
                    </button>

                    <div style="
                        font-size: 14px;
                        color: #72767d;
                        margin-top: 20px;
                    ">
                        Need an account? <a href="#" style="color: #00aff4; text-decoration: none;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">Register</a>
                    </div>
                </div>

                <!-- Discord Footer -->
                <div style="
                    background: #2f3136;
                    padding: 20px 32px;
                    border-radius: 0 0 8px 8px;
                ">
                    <div style="
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 16px;
                        margin-bottom: 16px;
                    ">
                        <div style="height: 1px; background: #4f545c; flex: 1;"></div>
                        <span style="color: #b9bbbe; font-size: 12px; font-weight: 600; text-transform: uppercase;">Or continue with</span>
                        <div style="height: 1px; background: #4f545c; flex: 1;"></div>
                    </div>
                    
                    <div style="display: flex; gap: 8px;">
                        <button style="
                            flex: 1;
                            background: #4267B2;
                            color: white;
                            border: none;
                            padding: 12px;
                            border-radius: 3px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: opacity 0.2s ease;
                        " onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
                            Facebook
                        </button>
                        <button style="
                            flex: 1;
                            background: #1DA1F2;
                            color: white;
                            border: none;
                            padding: 12px;
                            border-radius: 3px;
                            font-size: 14px;
                            cursor: pointer;
                            transition: opacity 0.2s ease;
                        " onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
                            Twitter
                        </button>
                    </div>
                </div>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
        }

        // Process Discord login
        function processDiscordLogin(itemName, price, type) {
            const email = document.getElementById('discordEmail').value;
            const password = document.getElementById('discordPassword').value;

            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }

            // Close Discord login and show loading
            closeDiscordLogin();
            showLoadingModal('Authenticating with Discord...');
            
            setTimeout(() => {
                // Simulate successful Discord authentication
                userAuth.discordId = Math.floor(Math.random() * 900000000000000000) + 100000000000000000;
                userAuth.discordName = email.split('@')[0] + '#' + Math.floor(Math.random() * 9999).toString().padStart(4, '0');
                
                closeLoadingModal();
                
                if (userAuth.steamId) {
                    // Both authentications complete
                    userAuth.isAuthenticated = true;
                    updateAuthStatusDisplay();
                    closeAuthModal();
                    showPurchaseModal(itemName, price, type);
                } else {
                    // Still need Steam
                    updateAuthModal('Discord connected! Now login with Steam.');
                }
            }, 2500);
        }

        // Close Discord login modal
        function closeDiscordLogin() {
            const modal = document.getElementById('discordLoginModal');
            if (modal) modal.remove();
        }

        // Show loading modal
        function showLoadingModal(message) {
            const existingModal = document.getElementById('loadingModal');
            if (existingModal) existingModal.remove();

            const modalOverlay = document.createElement('div');
            modalOverlay.id = 'loadingModal';
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10001;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 3px solid #dc3545;
                border-radius: 18px;
                padding: 3rem;
                text-align: center;
                box-shadow: 0 30px 60px rgba(220, 53, 69, 0.4);
            `;

            modal.innerHTML = `
                <div class="loading" style="margin-bottom: 2rem;"></div>
                <p style="color: #e8e8e8; font-size: 1.2rem; font-family: 'Exo 2', sans-serif;">${message}</p>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
        }

        // Close loading modal
        function closeLoadingModal() {
            const modal = document.getElementById('loadingModal');
            if (modal) modal.remove();
        }

        // Update auth modal with status
        function updateAuthModal(message) {
            const authModal = document.getElementById('authModal');
            if (authModal) {
                const statusDiv = document.createElement('div');
                statusDiv.style.cssText = `
                    background: rgba(40, 167, 69, 0.2);
                    border: 2px solid rgba(40, 167, 69, 0.4);
                    border-radius: 10px;
                    padding: 1rem;
                    margin: 1rem 0;
                    color: #28a745;
                    font-weight: 600;
                `;
                statusDiv.textContent = '✅ ' + message;
                
                const modal = authModal.querySelector('div');
                const buttons = modal.querySelector('div[style*="flex-direction: column"]');
                modal.insertBefore(statusDiv, buttons);
            }
        }

        // Close auth modal
        function closeAuthModal() {
            const modal = document.getElementById('authModal');
            if (modal) modal.remove();
        }

        // Close purchase modal
        function closePurchaseModal() {
            const modal = document.getElementById('purchaseModal');
            if (modal) {
                modal.remove();
            }
        }

        // Process purchase with Discord integration
        function processPurchase(itemName, price, type) {
            if (!userAuth.isAuthenticated) {
                alert('❌ Authentication required! Please login with Steam and Discord first.');
                return;
            }

            showLoadingModal('Processing purchase...');
            
            // Simulate payment processing
            setTimeout(() => {
                // Simulate successful payment
                const purchaseData = {
                    itemName: itemName,
                    price: price,
                    type: type,
                    steamId: userAuth.steamId,
                    steamName: userAuth.steamName,
                    discordId: userAuth.discordId,
                    discordName: userAuth.discordName,
                    timestamp: new Date().toISOString(),
                    transactionId: 'TXN_' + Math.random().toString(36).substr(2, 9).toUpperCase()
                };

                // Create Discord ticket and assign role
                createDiscordTicket(purchaseData);
                assignCustomerRole(userAuth.discordId);
                
                closeLoadingModal();
                showPurchaseSuccessModal(purchaseData);
                closePurchaseModal();
            }, 3000);
        }

        // Discord Bot Ticket System
        class DiscordTicketBot {
            constructor(botToken, guildId) {
                this.botToken = botToken;
                this.guildId = guildId;
                this.apiBase = 'https://discord.com/api/v10';
                this.ticketCategories = {
                    purchases: 'YOUR_PURCHASE_CATEGORY_ID',
                    support: 'YOUR_SUPPORT_CATEGORY_ID',
                    refunds: 'YOUR_REFUND_CATEGORY_ID'
                };
                this.roles = {
                    customer: 'YOUR_CUSTOMER_ROLE_ID',
                    vip: 'YOUR_VIP_ROLE_ID',
                    staff: 'YOUR_STAFF_ROLE_ID'
                };
            }

            // Create a new support ticket channel
            async createTicket(purchaseData) {
                try {
                    const channelName = `ticket-${purchaseData.transactionId.toLowerCase()}`;
                    
                    // Create private channel for the ticket
                    const channelResponse = await fetch(`${this.apiBase}/guilds/${this.guildId}/channels`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bot ${this.botToken}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            name: channelName,
                            type: 0, // Text channel
                            parent_id: this.ticketCategories.purchases,
                            permission_overwrites: [
                                {
                                    id: this.guildId, // @everyone
                                    type: 0,
                                    deny: '1024' // VIEW_CHANNEL
                                },
                                {
                                    id: purchaseData.discordId, // Customer
                                    type: 1,
                                    allow: '68608' // VIEW_CHANNEL + SEND_MESSAGES + READ_MESSAGE_HISTORY
                                },
                                {
                                    id: this.roles.staff, // Staff role
                                    type: 0,
                                    allow: '8' // ADMINISTRATOR
                                }
                            ]
                        })
                    });

                    if (!channelResponse.ok) {
                        throw new Error(`Failed to create channel: ${channelResponse.status}`);
                    }

                    const channel = await channelResponse.json();
                    console.log('✅ Ticket channel created:', channel.id);

                    // Send initial ticket message
                    await this.sendTicketMessage(channel.id, purchaseData);

                    // Send notification to staff channel
                    await this.notifyStaff(purchaseData, channel.id);

                    return channel;
                } catch (error) {
                    console.error('❌ Failed to create Discord ticket:', error);
                    throw error;
                }
            }

            // Send the initial ticket message with purchase details
            async sendTicketMessage(channelId, purchaseData) {
                const embed = {
                    title: '🎫 Support Ticket Created',
                    description: `Thank you for your purchase! Our staff will assist you shortly.`,
                    color: 0x28a745,
                    fields: [
                        {
                            name: '🛍️ Purchase Details',
                            value: `**Item:** ${purchaseData.itemName}\n**Price:** ${purchaseData.price}\n**Transaction ID:** \`${purchaseData.transactionId}\``,
                            inline: false
                        },
                        {
                            name: '👤 Customer Information',
                            value: `**Discord:** <@${purchaseData.discordId}>\n**Steam:** ${purchaseData.steamName}\n**Steam ID:** \`${purchaseData.steamId}\``,
                            inline: false
                        },
                        {
                            name: '📋 Next Steps',
                            value: `1. ✅ Your purchase has been recorded\n2. 🎮 Join our DayZ server to receive your item\n3. 💬 Staff will deliver your item within 24 hours\n4. 🎫 Keep this ticket open until delivery is complete`,
                            inline: false
                        }
                    ],
                    footer: {
                        text: 'Apocalypse Survivors - Automated Ticket System',
                        icon_url: 'https://cdn.discordapp.com/emojis/123456789.png' // Replace with your server icon
                    },
                    timestamp: purchaseData.timestamp
                };

                const components = [
                    {
                        type: 1, // Action Row
                        components: [
                            {
                                type: 2, // Button
                                style: 3, // Success (Green)
                                label: 'Mark as Delivered',
                                custom_id: `deliver_${purchaseData.transactionId}`,
                                emoji: { name: '✅' }
                            },
                            {
                                type: 2, // Button
                                style: 4, // Danger (Red)
                                label: 'Close Ticket',
                                custom_id: `close_${purchaseData.transactionId}`,
                                emoji: { name: '🔒' }
                            },
                            {
                                type: 2, // Button
                                style: 2, // Secondary (Gray)
                                label: 'Join Server',
                                custom_id: 'join_server',
                                emoji: { name: '🎮' }
                            }
                        ]
                    }
                ];

                try {
                    const response = await fetch(`${this.apiBase}/channels/${channelId}/messages`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bot ${this.botToken}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            embeds: [embed],
                            components: components
                        })
                    });

                    if (response.ok) {
                        console.log('✅ Ticket message sent successfully');
                    } else {
                        console.error('❌ Failed to send ticket message:', response.status);
                    }
                } catch (error) {
                    console.error('❌ Error sending ticket message:', error);
                }
            }

            // Notify staff about new ticket
            async notifyStaff(purchaseData, channelId) {
                const staffChannelId = 'YOUR_STAFF_NOTIFICATIONS_CHANNEL_ID'; // Replace with your staff channel ID
                
                const embed = {
                    title: '🚨 New Purchase Ticket',
                    description: `A new purchase ticket has been created and requires staff attention.`,
                    color: 0xffc107,
                    fields: [
                        {
                            name: '🎫 Ticket Channel',
                            value: `<#${channelId}>`,
                            inline: true
                        },
                        {
                            name: '👤 Customer',
                            value: `<@${purchaseData.discordId}>`,
                            inline: true
                        },
                        {
                            name: '🛍️ Item',
                            value: purchaseData.itemName,
                            inline: true
                        },
                        {
                            name: '💰 Amount',
                            value: purchaseData.price,
                            inline: true
                        },
                        {
                            name: '🔢 Transaction ID',
                            value: `\`${purchaseData.transactionId}\``,
                            inline: true
                        },
                        {
                            name: '⏰ Time',
                            value: `<t:${Math.floor(new Date(purchaseData.timestamp).getTime() / 1000)}:R>`,
                            inline: true
                        }
                    ],
                    footer: {
                        text: 'Click the button below to claim this ticket'
                    }
                };

                const components = [
                    {
                        type: 1,
                        components: [
                            {
                                type: 2,
                                style: 1, // Primary (Blue)
                                label: 'Claim Ticket',
                                custom_id: `claim_${purchaseData.transactionId}`,
                                emoji: { name: '👋' }
                            }
                        ]
                    }
                ];

                try {
                    await fetch(`${this.apiBase}/channels/${staffChannelId}/messages`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bot ${this.botToken}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            content: `<@&${this.roles.staff}>`, // Ping staff role
                            embeds: [embed],
                            components: components
                        })
                    });
                    
                    console.log('✅ Staff notification sent');
                } catch (error) {
                    console.error('❌ Failed to notify staff:', error);
                }
            }

            // Assign customer role to user
            async assignCustomerRole(userId) {
                try {
                    const response = await fetch(`${this.apiBase}/guilds/${this.guildId}/members/${userId}/roles/${this.roles.customer}`, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `Bot ${this.botToken}`,
                            'Content-Type': 'application/json'
                        }
                    });

                    if (response.ok) {
                        console.log('✅ Customer role assigned successfully');
                        return true;
                    } else {
                        console.error('❌ Failed to assign customer role:', response.status);
                        return false;
                    }
                } catch (error) {
                    console.error('❌ Error assigning customer role:', error);
                    return false;
                }
            }

            // Handle button interactions (this would be in your bot's interaction handler)
            async handleButtonInteraction(interaction) {
                const customId = interaction.data.custom_id;
                const [action, transactionId] = customId.split('_');

                switch (action) {
                    case 'deliver':
                        await this.markAsDelivered(interaction, transactionId);
                        break;
                    case 'close':
                        await this.closeTicket(interaction, transactionId);
                        break;
                    case 'claim':
                        await this.claimTicket(interaction, transactionId);
                        break;
                    case 'join':
                        await this.sendServerInfo(interaction);
                        break;
                }
            }

            // Mark item as delivered
            async markAsDelivered(interaction, transactionId) {
                // Update the original message to show delivered status
                const embed = {
                    title: '✅ Item Delivered',
                    description: `This purchase has been marked as delivered by <@${interaction.member.user.id}>`,
                    color: 0x28a745,
                    timestamp: new Date().toISOString()
                };

                await fetch(`${this.apiBase}/channels/${interaction.channel_id}/messages/${interaction.message.id}`, {
                    method: 'PATCH',
                    headers: {
                        'Authorization': `Bot ${this.botToken}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        embeds: [embed],
                        components: [] // Remove buttons
                    })
                });
            }

            // Close ticket channel
            async closeTicket(interaction, transactionId) {
                // Archive the channel after a delay
                setTimeout(async () => {
                    await fetch(`${this.apiBase}/channels/${interaction.channel_id}`, {
                        method: 'DELETE',
                        headers: {
                            'Authorization': `Bot ${this.botToken}`
                        }
                    });
                }, 10000); // 10 second delay

                // Send closing message
                const embed = {
                    title: '🔒 Ticket Closing',
                    description: 'This ticket will be closed in 10 seconds. Thank you for your purchase!',
                    color: 0xdc3545
                };

                await fetch(`${this.apiBase}/channels/${interaction.channel_id}/messages`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bot ${this.botToken}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ embeds: [embed] })
                });
            }
        }

        // Initialize Discord bot instance
        const discordBot = new DiscordTicketBot(discordConfig.botToken, discordConfig.guildId);

        // Create Discord support ticket (updated function)
        async function createDiscordTicket(purchaseData) {
            try {
                console.log('🎫 Creating Discord ticket for:', purchaseData);
                
                // Create ticket using the bot class
                const ticket = await discordBot.createTicket(purchaseData);
                
                console.log('✅ Discord ticket created successfully:', ticket.id);
                return ticket;
            } catch (error) {
                console.error('❌ Failed to create Discord ticket:', error);
                
                // Fallback: Send to webhook if bot method fails
                await this.sendWebhookNotification(purchaseData);
            }
        }

        // Fallback webhook notification
        async function sendWebhookNotification(purchaseData) {
            const webhookData = {
                embeds: [{
                    title: '🛒 New Purchase (Webhook Fallback)',
                    color: 0xdc3545,
                    fields: [
                        { name: '👤 Customer', value: `${purchaseData.steamName}\n${purchaseData.discordName}`, inline: true },
                        { name: '🛍️ Item', value: purchaseData.itemName, inline: true },
                        { name: '💰 Price', value: purchaseData.price, inline: true },
                        { name: '🆔 Steam ID', value: purchaseData.steamId, inline: true },
                        { name: '🆔 Discord ID', value: `<@${purchaseData.discordId}>`, inline: true },
                        { name: '🔢 Transaction ID', value: purchaseData.transactionId, inline: true }
                    ],
                    footer: { text: 'Manual ticket creation required' },
                    timestamp: purchaseData.timestamp
                }]
            };

            try {
                const response = await fetch(discordConfig.webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(webhookData)
                });
                
                if (response.ok) {
                    console.log('✅ Webhook notification sent successfully');
                } else {
                    console.error('❌ Failed to send webhook notification');
                }
            } catch (error) {
                console.error('❌ Webhook error:', error);
            }
        }

        // Assign customer role via Discord bot
        async function assignCustomerRole(discordId) {
            // In a real implementation, this would use Discord bot API
            console.log('👑 Assigning customer role to Discord ID:', discordId);
            
            // Real implementation would make this API call:
            /*
            try {
                const response = await fetch(`https://discord.com/api/v10/guilds/${discordConfig.guildId}/members/${discordId}/roles/${discordConfig.customerRoleId}`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bot ${discordConfig.botToken}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    console.log('✅ Customer role assigned successfully');
                } else {
                    console.error('❌ Failed to assign customer role');
                }
            } catch (error) {
                console.error('❌ Discord role assignment error:', error);
            }
            */
            
            // Demo simulation
            console.log('✅ Customer role would be assigned via Discord bot API');
        }

        // Show purchase success modal
        function showPurchaseSuccessModal(purchaseData) {
            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(10, 10, 10, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 3px solid #28a745;
                border-radius: 18px;
                padding: 3rem;
                max-width: 600px;
                width: 90%;
                text-align: center;
                position: relative;
                box-shadow: 0 30px 60px rgba(40, 167, 69, 0.4);
            `;

            modal.innerHTML = `
                <button onclick="closeSuccessModal()" style="
                    position: absolute;
                    top: 20px;
                    right: 25px;
                    background: none;
                    border: none;
                    color: #28a745;
                    font-size: 2rem;
                    cursor: pointer;
                    padding: 5px;
                    font-weight: bold;
                ">×</button>
                
                <div style="font-size: 4rem; margin-bottom: 2rem;">✅</div>
                
                <h2 style="
                    font-family: 'Orbitron', monospace;
                    color: #28a745;
                    margin-bottom: 2rem;
                    font-size: 2rem;
                    text-shadow: 0 0 15px rgba(40, 167, 69, 0.6);
                ">Purchase Successful!</h2>
                
                <div style="
                    background: rgba(10, 10, 10, 0.7);
                    padding: 2rem;
                    border-radius: 15px;
                    margin-bottom: 2rem;
                    border: 2px solid #2a2a4e;
                    text-align: left;
                ">
                    <h3 style="color: #28a745; margin-bottom: 1.5rem; text-align: center; font-family: 'Orbitron', monospace;">Purchase Details</h3>
                    <div style="color: #e8e8e8; line-height: 1.8; font-size: 1.1rem;">
                        <p><strong>Item:</strong> ${purchaseData.itemName}</p>
                        <p><strong>Price:</strong> ${purchaseData.price}</p>
                        <p><strong>Transaction ID:</strong> ${purchaseData.transactionId}</p>
                        <p><strong>Steam Account:</strong> ${purchaseData.steamName}</p>
                        <p><strong>Discord Account:</strong> ${purchaseData.discordName}</p>
                    </div>
                </div>

                <div style="
                    background: rgba(88, 101, 242, 0.15);
                    border: 2px solid rgba(88, 101, 242, 0.4);
                    border-radius: 12px;
                    padding: 2rem;
                    margin-bottom: 2rem;
                    font-size: 1rem;
                    color: #e8e8e8;
                    text-align: left;
                ">
                    <h4 style="color: #5865F2; margin-bottom: 1rem; text-align: center;">🎫 What happens next?</h4>
                    <div style="line-height: 1.6;">
                        <p style="margin-bottom: 0.8rem;">✅ <strong>Discord Role:</strong> Customer role has been assigned to your account</p>
                        <p style="margin-bottom: 0.8rem;">🎫 <strong>Support Ticket:</strong> A ticket has been created in our Discord server</p>
                        <p style="margin-bottom: 0.8rem;">🎮 <strong>Item Delivery:</strong> Your item will be delivered to your DayZ character within 24 hours</p>
                        <p>📧 <strong>Confirmation:</strong> Check your Discord DMs for purchase confirmation</p>
                    </div>
                </div>

                <div style="
                    background: rgba(255, 193, 7, 0.15);
                    border: 2px solid rgba(255, 193, 7, 0.4);
                    border-radius: 12px;
                    padding: 1.5rem;
                    margin-bottom: 2rem;
                    font-size: 1rem;
                    color: #e8e8e8;
                ">
                    <strong style="color: #ffc107;">⚠️ Important:</strong><br>
                    Make sure you're online on our DayZ server for item delivery. Check the support ticket in Discord for updates.
                </div>

                <div style="
                    background: rgba(255, 193, 7, 0.1);
                    border: 1px solid rgba(255, 193, 7, 0.3);
                    border-radius: 8px;
                    padding: 1rem;
                    margin-bottom: 2rem;
                    text-align: center;
                    font-size: 0.9rem;
                    color: #ffc107;
                ">
                    ⏰ This window will automatically close in <span id="countdown">30</span> seconds
                </div>

                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button onclick="openDiscord()" style="
                        background: linear-gradient(45deg, #5865F2, #4752C4);
                        color: white;
                        padding: 12px 25px;
                        border: none;
                        border-radius: 8px;
                        font-size: 1rem;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                    " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        💬 Open Discord
                    </button>
                    
                    <button onclick="connectToDayZ('apocalypse.survivors.com:2302')" style="
                        background: linear-gradient(45deg, #dc3545, #b02a37);
                        color: white;
                        padding: 12px 25px;
                        border: none;
                        border-radius: 8px;
                        font-size: 1rem;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                    " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                        🎮 Join Server
                    </button>
                    
                    <button onclick="closeSuccessModal()" style="
                        background: transparent;
                        color: #b8b8b8;
                        padding: 12px 25px;
                        border: 2px solid #2a2a4e;
                        border-radius: 8px;
                        font-size: 1rem;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        font-family: 'Exo 2', sans-serif;
                    " onmouseover="this.style.borderColor='#28a745'; this.style.color='#28a745'" onmouseout="this.style.borderColor='#2a2a4e'; this.style.color='#b8b8b8'">
                        Close Now
                    </button>
                </div>
            `;

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
            modalOverlay.id = 'successModal';
            
            // Auto-close after 30 seconds
            autoCloseSuccessModal();
            
            // Close on escape key
            const escapeHandler = (e) => {
                if (e.key === 'Escape') {
                    closeSuccessModal();
                    document.removeEventListener('keydown', escapeHandler);
                }
            };
            document.addEventListener('keydown', escapeHandler);
            
            // Close when clicking outside modal
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    closeSuccessModal();
                }
            });
        }

        // Close success modal
        function closeSuccessModal() {
            const modal = document.getElementById('successModal');
            if (modal) {
                // Clear countdown interval if it exists
                const countdownElement = document.getElementById('countdown');
                if (countdownElement) {
                    const intervalId = countdownElement.getAttribute('data-interval');
                    if (intervalId) {
                        clearInterval(parseInt(intervalId));
                    }
                }
                
                // Add fade out animation
                modal.style.opacity = '0';
                modal.style.transform = 'scale(0.9)';
                modal.style.transition = 'all 0.3s ease';
                
                setTimeout(() => {
                    modal.remove();
                    updateAuthStatusDisplay(); // Update the nav display
                }, 300);
            }
        }

        // Auto-close success modal after 30 seconds with countdown
        function autoCloseSuccessModal() {
            let timeLeft = 30;
            const countdownElement = document.getElementById('countdown');
            
            const countdownInterval = setInterval(() => {
                timeLeft--;
                if (countdownElement) {
                    countdownElement.textContent = timeLeft;
                    
                    // Change color as time runs out
                    if (timeLeft <= 10) {
                        countdownElement.style.color = '#dc3545';
                        countdownElement.style.fontWeight = 'bold';
                    } else if (timeLeft <= 20) {
                        countdownElement.style.color = '#ffc107';
                    }
                }
                
                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    const modal = document.getElementById('successModal');
                    if (modal) {
                        closeSuccessModal();
                    }
                }
            }, 1000);
            
            // Store interval ID so we can clear it if modal is closed manually
            if (countdownElement) {
                countdownElement.setAttribute('data-interval', countdownInterval);
            }
        }

        // Simulate dynamic player counts
        function simulatePlayerCounts() {
            setInterval(() => {
                config.servers.forEach((server, index) => {
                    if (server.status === 'online') {
                        // Simulate player count changes
                        const change = Math.floor(Math.random() * 7) - 3; // -3 to +3
                        server.players = Math.max(0, Math.min(server.maxPlayers, server.players + change));
                        
                        // Simulate queue changes
                        if (server.players >= server.maxPlayers - 2) {
                            server.queue = Math.max(0, server.queue + Math.floor(Math.random() * 2));
                        } else {
                            server.queue = Math.max(0, server.queue - Math.floor(Math.random() * 2));
                        }
                        
                        const playerElement = document.getElementById(`players-${index}`);
                        const queueElement = document.getElementById(`queue-${index}`);
                        
                        if (playerElement) {
                            playerElement.textContent = `${server.players}/${server.maxPlayers}`;
                        }
                        if (queueElement) {
                            queueElement.textContent = `${server.queue} waiting`;
                        }
                    }
                });
            }, 8000); // Update every 8 seconds
        }

        // DayZ connection function
        function connectToDayZ(serverAddress) {
            showDayZConnectionModal(serverAddress);
        }

        // Show DayZ connection modal
        function showDayZConnectionModal(address) {
            alert(`🧟 Connecting to DayZ Server\n\nServer: ${address}\n\nTo connect:\n1. Open DayZ\n2. Go to Server Browser\n3. Search for "Apocalypse Survivors"\n4. Click Connect\n\nOr use the server IP directly in the remote connect option.`);
        }

        // Admin panel functions
        function toggleAdmin() {
            const adminPanel = document.getElementById('adminPanel');
            adminPanel.classList.toggle('active');
        }

        function authenticateAdmin() {
            const password = document.getElementById('adminPassword').value;
            const adminControls = document.getElementById('adminControls');
            
            if (password === config.adminPassword) {
                adminControls.style.display = 'block';
                alert('🔓 Admin access granted! Welcome to the control panel.');
            } else {
                alert('❌ Invalid password! Access denied.');
            }
        }

        function addServer() {
            const name = document.getElementById('serverNameInput').value;
            const ip = document.getElementById('serverIPInput').value;
            const maxPlayers = parseInt(document.getElementById('maxPlayersInput').value);
            const status = document.getElementById('serverStatusInput').value;

            if (name && ip && maxPlayers) {
                config.servers.push({
                    name: name,
                    ip: ip,
                    players: status === 'online' ? Math.floor(Math.random() * maxPlayers) : 0,
                    maxPlayers: maxPlayers,
                    status: status,
                    queue: status === 'online' ? Math.floor(Math.random() * 5) : 0,
                    uptime: status === 'online' ? '99.1%' : 'N/A'
                });

                renderServers();
                
                // Clear form
                document.getElementById('serverNameInput').value = '';
                document.getElementById('serverIPInput').value = '';
                document.getElementById('maxPlayersInput').value = '';
                
                alert('✅ Server added successfully to Apocalypse Survivors network!');
            } else {
                alert('⚠️ Please fill in all required fields!');
            }
        }

        function updateTheme() {
            const newName = prompt('Enter new server name:', config.serverName);
            const newTitle = prompt('Enter new hero title:', config.heroTitle);
            const newDescription = prompt('Enter new description:', config.heroDescription);

            if (newName) config.serverName = newName;
            if (newTitle) config.heroTitle = newTitle;
            if (newDescription) config.heroDescription = newDescription;

            updateThemeElements();
            alert('🎨 Theme updated successfully!');
        }

        // Community link functions
        function openDiscord() {
            window.open('https://discord.gg/apocalypsesurvivors', '_blank');
        }

        function openSteam() {
            window.open('https://steamcommunity.com/groups/apocalypsesurvivors', '_blank');
        }

        function openForums() {
            alert('Community Forums Demo\n\nThis would show a DayZ community forum with survival guides, base showcases, and player stories in a real implementation.');
        }

        // Demo function for remaining non-functional links
        function showDemo(feature) {
            if (feature === 'Contact') {
                alert(`${feature} Demo\n\nThis is a DayZ server template demonstration. In a real implementation, this would show admin contact information or a support ticket system.`);
            } else {
                alert(`${feature} Demo\n\nThis is a DayZ server template demonstration. In a real implementation, this would connect to your ${feature.toLowerCase()} system.`);
            }
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Anti-debugging and theft protection
        (function(){let _0x8f5b=0;setInterval(function(){if(_0x8f5b++>100){console.clear();_0x8f5b=0;}},1000);})();
        
        // Disable right-click context menu
        document.addEventListener('contextmenu',function(e){e.preventDefault();});
        
        // Disable F12, Ctrl+Shift+I, Ctrl+U
        document.addEventListener('keydown',function(e){if(e.key==='F12'||(e.ctrlKey&&e.shiftKey&&e.key==='I')||(e.ctrlKey&&e.key==='u')){e.preventDefault();}});

        // Initialize website when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeWebsite();
            
            // Check for authentication callbacks
            const urlParams = new URLSearchParams(window.location.search);
            
            // Handle Steam OpenID return
            if (urlParams.get('openid.mode') === 'id_res') {
                handleSteamReturn();
            }
            
            // Handle Discord OAuth2 callback
            if (urlParams.get('code') && urlParams.get('state')) {
                handleDiscordCallback();
            }
        });

        // Add DayZ-themed cursor effect
        document.addEventListener('mousemove', (e) => {
            const cursor = document.querySelector('.dayz-cursor');
            if (!cursor) {
                const newCursor = document.createElement('div');
                newCursor.className = 'dayz-cursor';
                newCursor.style.cssText = `
                    position: fixed;
                    width: 30px;
                    height: 30px;
                    background: radial-gradient(circle, rgba(220,53,69,0.4) 0%, transparent 70%);
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 9999;
                    transition: transform 0.1s ease;
                `;
                document.body.appendChild(newCursor);
            }
            
            const cursorElement = document.querySelector('.dayz-cursor');
            cursorElement.style.left = e.clientX - 15 + 'px';
            cursorElement.style.top = e.clientY - 15 + 'px';
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'967e8900e2eafad4',t:'MTc1Mzk4MDAwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
